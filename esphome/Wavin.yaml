esphome:
  name: wavin
  platform: ESP8266
  board: d1_mini

external_components:
  - source: github://heinekmadsen/esphome_components

wifi:
  ssid: !secret esp_ssid
  password: !secret esp_wpa
  fast_connect: true

  # Enable fallback hotspot (captive portal) in case wifi connection fails
  ap:
    ssid: "Wawin Fallback Hotspot"
    password: "hGK7orjlHnLm"

captive_portal:
  
# Enable Home Assistant API
api:

ota:

uart:
  rx_pin: GPIO13
  tx_pin: GPIO15
  baud_rate: 38400
  id: uart_modbus
  stop_bits: 1
    
modbus:
  uart_id: uart_modbus

wavinAhc9000:
  update_interval: 60s
  rw_pin: GPIO5

climate:
  - platform: wavinAhc9000
    channel: 1
    name: "Floor room 1"
    visual:
      temperature_step: 0.5 °C
    battery_level:
      name: "Battery room 1"
    current_temp:
      name: "Current temp room 1"
  - platform: wavinAhc9000
    channel: 1
    name: "Floor room 2"
    visual:
      temperature_step: 0.5 °C
    battery_level:
      name: "Battery room 2"
    current_temp:
      name: "Current temp room 2"
  - platform: wavinAhc9000
    channel: 1
    name: "Floor room 3"
    visual:
      temperature_step: 0.5 °C
    battery_level:
      name: "Battery room 3"
    current_temp:
      name: "Current temp room 3"